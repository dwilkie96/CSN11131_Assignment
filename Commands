# List of commands used to get results from FELICS framework
# Only setup included for AVR (8-bit) and MSP (16-bit) microcontrollers 
# ARM (32-bit) requires Arduino Due board & J-Link debug probe to extract results so will not be included here

SETUP - from scratch

# making folder named 'ubuntu' for working in 
mkdir ubuntu

# installing generic updates for Ubuntu
sudo apt-get update

# installing pre-requisites compilers
# AVR
sudo apt-get install gcc-avr

# MSP
sudo apt-get install gcc-msp430

# installing pre-requisites tools
# AVR
sudo apt-get install gdb-avr avr-libc libelf-dev gtkwave build-essential freeglut3-dev default-jre default-jdk
sudo apt-get install simavr

# MSP
sudo apt-get install libusb-dev mspdebug gdb-msp430

# download FELIC.zip and extract all into the 'ubuntu' folder so that there is now a 'FELICS' folder in 'ubuntu'
# starting with the block ciphers
# navigate to FELCS/block_ciphers/scripts/constants/common
./build.sh

#navigate to 


# EDITING FILES IN PRESENT_64_80_V01/source
# EDIT constants.h
Add 16 to empty [] for sBox4 & invsBox4

#CREATE constants.c file in PRESENT_64_80_V01/source with following:
_____________
  #include <stdint.h>

  #include <constants.h>

  SBOX1_BYTE SBox1[16] = { 0xc, 0x5, 0x6, 0xb, 0x9, 0x0, 0xa, 0xd, 0x3, 0xe, 0xf, 0x8, 0x4, 0x7, 0x1, 0x2 };
                   

  SBOX2_WORD SBox2[16] = { 0x5, 0xe, 0xf, 0x8, 0xC, 0x1, 0x2, 0xD, 0xB, 0x4, 0x6, 0x3, 0x0, 0x7, 0x9, 0xA };
                   

  RAM_DATA_DOUBLE_WORD SBox[1] = { 0x04030201 };
_____________

#ADD following to date_types.h beneath "#include "cipher.h":
  #define SBOX1_BYTE ROM_DATA_BYTE
  #define READ_SBOX1_BYTE READ_ROM_DATA_BYTE

  #define SBOX2_WORD RAM_DATA_WORD
  #define READ_SBOX2_WORD READ_RAM_DATA_WORD


#Making the cipher, navigate to ubuntu/FELICS/block_ciphers/source/ciphers/PRESENT_64_80_V01/source run command
make -f ./Makefile cipher

//    PRESENT

PRESENT for XML output, AVR architecture and scenario 0 
./collect_ciphers_metrics.sh -f=3 -a=AVR -s=0 -c='PRESENT_64_80_v06' -i=1 

PRESENT for raw table output, AVR architecture and scenario 0 
./get_results.sh -f=1 -a=AVR -s=0 -c='PRESENT_64_80_v06' -i=1 


//    TWINE



//    TRIVIUM





SETUP

1   FELICS/common/config$ ./config.sh #not sure what happened

2   FELICS/block_ciphers/scripts$ ./collect_ciphers_metrics.sh -a='MSP' -s='1' -c='PRESENT_64_80_v06' -f='1'  #genertaing the memory file for MSP_scenario1_memory.mem
